/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexboxlegacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-localstorage-shiv-cssclasses-teststyles-testprop-testallprops-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function A(a){j.cssText=a}function B(a,b){return A(n.join(a+";")+(b||""))}function C(a,b){return typeof a===b}function D(a,b){return!!~(""+a).indexOf(b)}function E(a,b){for(var d in a){var e=a[d];if(!D(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function F(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:C(f,"function")?f.bind(d||b):f}return!1}function G(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return C(b,"string")||C(b,"undefined")?E(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),F(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y={}.hasOwnProperty,z;!C(y,"undefined")&&!C(y.call,"undefined")?z=function(a,b){return y.call(a,b)}:z=function(a,b){return b in a&&C(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return G("flexWrap")},r.flexboxlegacy=function(){return G("boxDirection")},r.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),D(j.backgroundColor,"rgba")},r.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),D(j.backgroundColor,"rgba")||D(j.backgroundColor,"hsla")},r.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},r.backgroundsize=function(){return G("backgroundSize")},r.borderimage=function(){return G("borderImage")},r.borderradius=function(){return G("borderRadius")},r.boxshadow=function(){return G("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return B("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return G("animationName")},r.csscolumns=function(){return G("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return A((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),D(j.backgroundImage,"gradient")},r.cssreflections=function(){return G("boxReflect")},r.csstransforms=function(){return!!G("transform")},r.csstransforms3d=function(){var a=!!G("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return G("transition")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},r.generatedcontent=function(){var a;return x(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}};for(var H in r)z(r,H)&&(w=H.toLowerCase(),e[w]=r[H](),u.push((e[w]?"":"no-")+w));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)z(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},A(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.testProp=function(a){return E([a])},e.testAllProps=G,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
//
// showdown.js -- A javascript port of Markdown.
//
// Copyright (c) 2007 John Fraser.
//
// Original Markdown Copyright (c) 2004-2005 John Gruber
//   <http://daringfireball.net/projects/markdown/>
//
// Redistributable under a BSD-style open source license.
// See license.txt for more information.
//
// The full source distribution is at:
//
//				A A L
//				T C A
//				T K B
//
//   <http://www.attacklab.net/>
//
//
// Wherever possible, Showdown is a straight, line-by-line port
// of the Perl version of Markdown.
//
// This is not a normal parser design; it's basically just a
// series of string substitutions.  It's hard to read and
// maintain this way,  but keeping Showdown close to the original
// design makes it easier to port new features.
//
// More importantly, Showdown behaves like markdown.pl in most
// edge cases.  So web applications can do client-side preview
// in Javascript, and then build identical HTML on the server.
//
// This port needs the new RegExp functionality of ECMA 262,
// 3rd Edition (i.e. Javascript 1.5).  Most modern web browsers
// should do fine.  Even with the new regular expression features,
// We do a lot of work to emulate Perl's regex functionality.
// The tricky changes in this file mostly have the "attacklab:"
// label.  Major or self-explanatory changes don't.
//
// Smart diff tools like Araxis Merge will be able to match up
// this file with markdown.pl in a useful way.  A little tweaking
// helps: in a copy of markdown.pl, replace "#" with "//" and
// replace "$text" with "text".  Be sure to ignore whitespace
// and line endings.
//
//
// Showdown usage:
//
//   var text = "Markdown *rocks*.";
//
//   var converter = new Showdown.converter();
//   var html = converter.makeHtml(text);
//
//   alert(html);
//
// Note: move the sample code to the bottom of this
// file before uncommenting it.
//
//
// Showdown namespace
//
var Showdown={};Showdown.converter=function(){var e,t,n,r=0;this.makeHtml=function(r){return e=new Array,t=new Array,n=new Array,r=r.replace(/~/g,"~T"),r=r.replace(/\$/g,"~D"),r=r.replace(/\r\n/g,"\n"),r=r.replace(/\r/g,"\n"),r="\n\n"+r+"\n\n",r=M(r),r=r.replace(/^[ \t]+$/mg,""),r=y(r),r=s(r),r=i(r),r=u(r),r=A(r),r=r.replace(/~D/g,"$$"),r=r.replace(/~T/g,"~"),r};var i=function(n){var n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(n,r,i,s,o){return r=r.toLowerCase(),e[r]=N(i),s?s+o:(o&&(t[r]=o.replace(/"/g,"&quot;")),"")});return n},s=function(e){e=e.replace(/\n/g,"\n\n");var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,o),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o),e=e.replace(/\n\n/g,"\n"),e},o=function(e,t){var r=t;return r=r.replace(/\n\n/g,"\n"),r=r.replace(/^\n/,""),r=r.replace(/\n+$/g,""),r="\n\n~K"+(n.push(r)-1)+"K\n\n",r},u=function(e){e=d(e);var t=b("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=m(e),e=g(e),e=x(e),e=s(e),e=T(e),e},a=function(e){return e=w(e),e=f(e),e=C(e),e=h(e),e=l(e),e=k(e),e=N(e),e=S(e),e=e.replace(/  +\n/g," <br />\n"),e},f=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=_(t,"\\`*_"),t}),e},l=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,c),e},c=function(n,r,i,s,o,u,a,f){f==undefined&&(f="");var l=r,c=i,h=s.toLowerCase(),p=o,d=f;if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h;if(e[h]!=undefined)p=e[h],t[h]!=undefined&&(d=t[h]);else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}}p=_(p,"*_");var v='<a href="'+p+'"';return d!=""&&(d=d.replace(/"/g,"&quot;"),d=_(d,"*_"),v+=' title="'+d+'"'),v+=">"+c+"</a>",v},h=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),e},p=function(n,r,i,s,o,u,a,f){var l=r,c=i,h=s.toLowerCase(),p=o,d=f;d||(d="");if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h;if(e[h]==undefined)return l;p=e[h],t[h]!=undefined&&(d=t[h])}c=c.replace(/"/g,"&quot;"),p=_(p,"*_");var v='<img src="'+p+'" alt="'+c+'"';return d=d.replace(/"/g,"&quot;"),d=_(d,"*_"),v+=' title="'+d+'"',v+=" />",v},d=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return b('<h1 id="'+t(n)+'">'+a(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return b('<h2 id="'+t(n)+'">'+a(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,r){var i=n.length;return b("<h"+i+' id="'+t(r)+'">'+a(r)+"</h"+i+">")}),e},v,m=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return r?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol";r=r.replace(/\n{2,}/g,"\n\n\n");var s=v(r);return s=s.replace(/\s+$/,""),s="<"+i+">"+s+"</"+i+">\n",s}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,s=n,o=r.search(/[*+-]/g)>-1?"ul":"ol",s=s.replace(/\n{2,}/g,"\n\n\n"),u=v(s);return u=i+"<"+o+">\n"+u+"</"+o+">\n",u})),e=e.replace(/~0/,""),e};v=function(e){return r++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,r,i){var s=i,o=t,f=n;return o||s.search(/\n{2,}/)>-1?s=u(O(s)):(s=m(O(s)),s=s.replace(/\n$/,""),s=a(s)),"<li>"+s+"</li>\n"}),e=e.replace(/~0/g,""),r--,e};var g=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=E(O(r)),r=M(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>",b(r)+i}),e=e.replace(/~0/,""),e},y=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var r=t,i=n;return i=E(i),i=M(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(r?' class="'+r+'"':"")+">"+i+"\n</code></pre>",b(i)}),e=e.replace(/~0/,""),e},b=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.push(e)-1)+"K\n\n"},w=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,i){var s=r;return s=s.replace(/^([ \t]*)/g,""),s=s.replace(/[ \t]*$/g,""),s=E(s),t+"<code>"+s+"</code>"}),e},E=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=_(e,"*_{}[]\\",!1),e},S=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),e},x=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=u(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /mg,"~0"),n=n.replace(/~0/g,""),n}),b("<blockquote>\n"+n+"\n</blockquote>")}),e},T=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");var t=e.split(/\n{2,}/g),r=new Array,i=t.length;for(var s=0;s<i;s++){var o=t[s];o.search(/~K(\d+)K/g)>=0?r.push(o):o.search(/\S/)>=0&&(o=a(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",r.push(o))}i=r.length;for(var s=0;s<i;s++)while(r[s].search(/~K(\d+)K/)>=0){var u=n[RegExp.$1];u=u.replace(/\$/g,"$$$$"),r[s]=r[s].replace(/~K\d+K/,u)}return r.join("\n\n")},N=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),e},C=function(e){return e=e.replace(/\\(\\)/g,D),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,D),e},k=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return L(A(t))}),e},L=function(e){function t(e){var t="0123456789ABCDEF",n=e.charCodeAt(0);return t.charAt(n>>4)+t.charAt(n&15)}var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+t(e)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if(e=="@")e=n[Math.floor(Math.random()*2)](e);else if(e!=":"){var t=Math.random();e=t>.9?n[2](e):t>.45?n[1](e):n[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">'),e},A=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)}),e},O=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,""),e},M=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t,n){var r=t,i=4-r.length%4;for(var s=0;s<i;s++)r+=" ";return r}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,""),e},_=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,D),e},D=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},typeof module!="undefined"&&(module.exports=Showdown);
/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-transition.js, bootstrap-modal.js, bootstrap-dropdown.js, bootstrap-scrollspy.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-popover.js, bootstrap-affix.js, bootstrap-alert.js, bootstrap-button.js, bootstrap-collapse.js, bootstrap-carousel.js, bootstrap-typeahead.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){function d(){e(a(b)).removeClass("open")}function e(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||(f.toggleClass("open"),c.focus()),!1},keydown:function(b){var c,d,f,g,h,i;if(!/(38|40|27)/.test(b.keyCode))return;c=a(this),b.preventDefault(),b.stopPropagation();if(c.is(".disabled, :disabled"))return;g=e(c),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return c.click();d=a("[role=menu] li:not(.divider) a",g);if(!d.length)return;i=d.index(d.filter(":focus")),b.keyCode==38&&i>0&&i--,b.keyCode==40&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus()}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",d),a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(a){var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h="affix affix-top affix-bottom",i;typeof e!="object"&&(f=g=e),typeof g=="function"&&(g=e.top()),typeof f=="function"&&(f=e.bottom()),i=this.unpin!=null&&c+this.unpin<=d.top?!1:f!=null&&d.top+this.$element.height()>=b-f?"bottom":g!=null&&c<=g?"top":!1;if(this.affixed===i)return;this.affixed=i,this.unpin=i=="bottom"?d.top-c:null,this.$element.removeClass(h).addClass("affix"+(i?"-"+i:""))},a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f=typeof c=="object"&&c;e||d.data("affix",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),!function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide",{relatedTarget:e[0]});this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery)
window.CodeMirror=function(){"use strict";function e(r,i){function cn(e){if(s.onDragEvent&&s.onDragEvent(vn,K(e)))return;Y(e)}function dn(e){return e>=0&&e<Dt.size}function mn(e){return z(Dt,e)}function gn(e,t){Qt=!0;var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function yn(e,t){return e.styles||e.highlight(_t,e.stateAfter=ai(W(e)),s.tabSize),e.getContent(s.tabSize,t,s.lineWrapping)}function bn(e){var t={line:0,ch:0};jn(t,{line:Dt.size-1,ch:mn(Dt.size-1).text.length},Ct(e),t,t),Xt=!0}function wn(e){var t=[];return Dt.iter(0,Dt.size,function(e){t.push(e.text)}),t.join(e||"\n")}function En(e){Math.abs(M.scrollTop-qt)>1&&(qt=Et.scrollTop=M.scrollTop,ur([]))}function Sn(e){s.fixedGutter&&ut.style.left!=Et.scrollLeft+"px"&&(ut.style.left=Et.scrollLeft+"px"),Math.abs(Et.scrollTop-qt)>1&&(qt=Et.scrollTop,M.scrollTop!=qt&&(M.scrollTop=qt),ur([])),s.onScroll&&s.onScroll(vn)}function xn(e){function u(t){b&&(Et.draggable=!1),Rt=!1,l(),c(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Q(t),mr(n.line,n.ch,!0),tr())}function m(e){if(i=="single")pr(n,e);else if(i=="double"){var t=xr(e);mt(e,h)?pr(t.from,p):pr(h,t.to)}else i=="triple"&&(mt(e,h)?pr(p,yr({line:e.line,ch:0})):pr(h,yr({line:e.line+1,ch:0})))}function g(e){var t=ti(e,!0);if(t&&!vt(t,a)){Ht||Hn(),a=t,m(t),Xt=!1;var n=or();if(t.line>=n.to||t.line<n.from)f=setTimeout(di(function(){g(e)}),150)}}function y(e){clearTimeout(f);var t=ti(e);t&&m(t),Q(e),tr(),Xt=!0,w(),l()}hr(tt(e,"shiftKey"));for(var t=Z(e);t!=Tt;t=t.parentNode)if(t.parentNode==ct&&t!=at)return;for(var t=Z(e);t!=Tt;t=t.parentNode)if(t.parentNode==ot)return s.onGutterClick&&s.onGutterClick(vn,xt(ot.childNodes,t)+Zt,e),Q(e);var n=ti(e);switch(et(e)){case 3:d&&ri(e);return;case 2:n&&mr(n.line,n.ch,!0),setTimeout(tr,20),Q(e);return}if(!n){Z(e)==Et&&Q(e);return}Ht||Hn();var r=+(new Date),i="single";if(It&&It.time>r-400&&vt(It.pos,n))i="triple",Q(e),setTimeout(tr,20),Tr(n.line);else if(Ft&&Ft.time>r-400&&vt(Ft.pos,n)){i="double",It={time:r,pos:n},Q(e);var o=xr(n);pr(o.from,o.to)}else Ft={time:r,pos:n};var a=n,f;if(s.dragDrop&&st&&!s.readOnly&&!vt(Bt.from,Bt.to)&&!mt(n,Bt.from)&&!mt(Bt.to,n)&&i=="single"){b&&(Et.draggable=!0);var l=nt(document,"mouseup",di(u),!0),c=nt(Et,"drop",di(u),!0);Rt=!0,Et.dragDrop&&Et.dragDrop();return}Q(e),i=="single"&&mr(n.line,n.ch,!0);var h=Bt.from,p=Bt.to,w=nt(document,"mousemove",di(function(e){clearTimeout(f),Q(e),!v&&!et(e)?y(e):g(e)}),!0),l=nt(document,"mouseup",di(y),!0)}function Tn(e){for(var t=Z(e);t!=Tt;t=t.parentNode)if(t.parentNode==ot)return Q(e);Q(e)}function Nn(e){if(s.onDragEvent&&s.onDragEvent(vn,K(e)))return;Q(e);var t=ti(e,!0),n=e.dataTransfer.files;if(!t||s.readOnly)return;if(n&&n.length&&window.FileReader&&window.File){var r=n.length,i=Array(r),o=0,u=function(e,n){var s=new FileReader;s.onload=function(){i[n]=s.result,++o==r&&(t=yr(t),di(function(){var e=Xn(i.join(""),t,t);pr(t,e)})())},s.readAsText(e)};for(var a=0;a<r;++a)u(n[a],a)}else{if(Rt&&!mt(t,Bt.from)&&!mt(Bt.to,t))return;try{var i=e.dataTransfer.getData("Text");i&&vi(function(){var e=Bt.from,n=Bt.to;pr(t,t),Rt&&Xn("",e,n),Vn(i),tr()})}catch(e){}}}function Cn(e){var t=Kn();e.dataTransfer.setData("Text",t),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(yt("img"),0,0)}function kn(e,t){if(typeof e=="string"){e=f[e];if(!e)return!1}var n=jt;try{s.readOnly&&(zt=!0),t&&(jt=null),e(vn)}catch(r){if(r!=it)throw r;return!1}finally{jt=n,zt=!1}return!0}function An(e){function f(){a=!0}var t=c(s.keyMap),r=t.auto;clearTimeout(Ln),r&&!p(e)&&(Ln=setTimeout(function(){c(s.keyMap)==t&&(s.keyMap=r.call?r.call(null,vn):r)},50));var i=Lt[tt(e,"keyCode")],o=!1,u=E&&n;if(i==null||e.altGraphKey)return!1;tt(e,"altKey")&&(i="Alt-"+i),tt(e,u?"metaKey":"ctrlKey")&&(i="Ctrl-"+i),tt(e,u?"ctrlKey":"metaKey")&&(i="Cmd-"+i);var a=!1;return tt(e,"shiftKey")?o=h("Shift-"+i,s.extraKeys,s.keyMap,function(e){return kn(e,!0)},f)||h(i,s.extraKeys,s.keyMap,function(e){if(typeof e=="string"&&/^go[A-Z]/.test(e))return kn(e)},f):o=h(i,s.extraKeys,s.keyMap,kn,f),a&&(o=!1),o&&(Q(e),ii(),g&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),o}function On(e,t){var n=h("'"+t+"'",s.extraKeys,s.keyMap,function(e){return kn(e,!0)});return n&&(Q(e),ii()),n}function _n(e){Ht||Hn(),v&&e.keyCode==27&&(e.returnValue=!1),un&&Zn()&&(un=!1);if(s.onKeyEvent&&s.onKeyEvent(vn,K(e)))return;var t=tt(e,"keyCode");hr(t==16||tt(e,"shiftKey"));var r=An(e);E&&(Mn=r?t:null,!r&&t==88&&tt(e,n?"metaKey":"ctrlKey")&&Vn(""))}function Dn(e){un&&Zn();if(s.onKeyEvent&&s.onKeyEvent(vn,K(e)))return;var t=tt(e,"keyCode"),n=tt(e,"charCode");if(E&&t==Mn){Mn=null,Q(e);return}if((E&&(!e.which||e.which<10)||x)&&An(e))return;var r=String.fromCharCode(n==null?t:n);s.electricChars&&_t.electricChars&&s.smartIndent&&!s.readOnly&&_t.electricChars.indexOf(r)>-1&&setTimeout(di(function(){Cr(Bt.to.line,"smart")}),75);if(On(e,r))return;Gn()}function Pn(e){if(s.onKeyEvent&&s.onKeyEvent(vn,K(e)))return;tt(e,"keyCode")==16&&(jt=null)}function Hn(){if(s.readOnly=="nocursor")return;Ht||(s.onFocus&&s.onFocus(vn),Ht=!0,Et.className.search(/\bCodeMirror-focused\b/)==-1&&(Et.className+=" CodeMirror-focused")),Qn(),ii()}function Bn(){Ht&&(s.onBlur&&s.onBlur(vn),Ht=!1,nn&&di(function(){nn&&(nn(),nn=null)})(),Et.className=Et.className.replace(" CodeMirror-focused","")),clearInterval(Mt),setTimeout(function(){Ht||(jt=null)},150)}function jn(e,t,n,r,i){if(zt)return;var o=[];Dt.iter(e.line,t.line+1,function(e){o.push(B(e.text,e.markedSpans))});if(fn){fn.addChange(e.line,n.length,o);while(fn.done.length>s.undoDepth)fn.done.shift()}var u=D(H(o[0]),H(pt(o)),e.ch,t.ch,n);Rn(e,t,u,r,i)}function Fn(e,t){if(!e.length)return;var n=e.pop(),r=[];for(var i=n.length-1;i>=0;i-=1){var s=n[i],o=[],u=s.start+s.added;Dt.iter(s.start,u,function(e){o.push(B(e.text,e.markedSpans))}),r.push({start:s.start,added:s.old.length,old:o});var a={line:s.start+s.old.length-1,ch:St(P(pt(o)),P(pt(s.old)))};Rn({line:s.start,ch:0},{line:u-1,ch:mn(u-1).text.length},s.old,a,a)}Xt=!0,t.push(r)}function In(){Fn(fn.done,fn.undone)}function qn(){Fn(fn.undone,fn.done)}function Rn(e,t,n,r,i){function w(e){return e<=Math.min(t.line,t.line+g)?e:e+g}if(zt)return;var o=!1,u=rn.text.length;s.lineWrapping||Dt.iter(e.line,t.line+1,function(e){if(!e.hidden&&e.text.length==u)return o=!0,!0});if(e.line!=t.line||n.length>1)Qt=!0;var a=t.line-e.line,f=mn(e.line),l=mn(t.line),c=pt(n);if(e.ch==0&&t.ch==0&&P(c)==""){var h=[],p=null;for(var d=0,v=n.length-1;d<v;++d)h.push(new q(P(n[d]),H(n[d])));l.update(l.text,H(c)),a&&Dt.remove(e.line,a,Gt),h.length&&Dt.insert(e.line,h)}else if(f==l)if(n.length==1)f.update(f.text.slice(0,e.ch)+P(n[0])+f.text.slice(t.ch),H(n[0]));else{for(var h=[],d=1,v=n.length-1;d<v;++d)h.push(new q(P(n[d]),H(n[d])));h.push(new q(P(c)+f.text.slice(t.ch),H(c))),f.update(f.text.slice(0,e.ch)+P(n[0]),H(n[0])),Dt.insert(e.line+1,h)}else if(n.length==1)f.update(f.text.slice(0,e.ch)+P(n[0])+l.text.slice(t.ch),H(n[0])),Dt.remove(e.line+1,a,Gt);else{var h=[];f.update(f.text.slice(0,e.ch)+P(n[0]),H(n[0])),l.update(P(c)+l.text.slice(t.ch),H(c));for(var d=1,v=n.length-1;d<v;++d)h.push(new q(P(n[d]),H(n[d])));a>1&&Dt.remove(e.line+1,a-1,Gt),Dt.insert(e.line+1,h)}if(s.lineWrapping){var m=Math.max(5,Et.clientWidth/Yr()-3);Dt.iter(e.line,e.line+n.length,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/m)||1;t!=e.height&&gn(e,t)})}else Dt.iter(e.line,e.line+n.length,function(e){var t=e.text;!e.hidden&&t.length>u&&(rn=e,u=t.length,on=!0,o=!1)}),o&&(sn=!0);Pt=Math.min(Pt,e.line),li(400);var g=n.length-a-1;$t.push({from:e.line,to:t.line+1,diff:g});if(s.onChange){for(var d=0;d<n.length;++d)typeof n[d]!="string"&&(n[d]=n[d].text);var y={from:e,to:t,text:n};if(Jt){for(var b=Jt;b.next;b=b.next);b.next=y}else Jt=y}dr(yr(r),yr(i),w(Bt.from.line),w(Bt.to.line))}function Un(){var e=Dt.height*Kr()+2*Zr();return e*.99>Et.offsetHeight?e:!1}function zn(e){var t=Un();M.style.display=t?"block":"none",t?(L.style.height=ct.style.minHeight=t+"px",M.style.height=Et.clientHeight+"px",e!=null&&(M.scrollTop=Et.scrollTop=e,b&&setTimeout(function(){if(M.scrollTop!=e)return;M.scrollTop=e+(e?-1:1),M.scrollTop=e},0))):ct.style.minHeight="",at.style.top=Yt*Kr()+"px"}function Wn(){rn=mn(0),on=!0;var e=rn.text.length;Dt.iter(1,Dt.size,function(t){var n=t.text;!t.hidden&&n.length>e&&(e=n.length,rn=t)}),sn=!1}function Xn(e,t,n){function r(r){if(mt(r,t))return r;if(!mt(n,r))return i;var s=r.line+e.length-(n.line-t.line)-1,o=r.ch;return r.line==n.line&&(o+=pt(e).length-(n.ch-(n.line==t.line?t.ch:0))),{line:s,ch:o}}t=yr(t),n?n=yr(n):n=t,e=Ct(e);var i;return $n(e,t,n,function(e){return i=e,{from:r(Bt.from),to:r(Bt.to)}}),i}function Vn(e,t){$n(Ct(e),Bt.from,Bt.to,function(e){return t=="end"?{from:e,to:e}:t=="start"?{from:Bt.from,to:Bt.from}:{from:Bt.from,to:e}})}function $n(e,t,n,r){var i=e.length==1?e[0].length+t.ch:pt(e).length,s=r({line:t.line+e.length-1,ch:i});jn(t,n,e,s.from,s.to)}function Jn(e,t,n){var r=e.line,i=t.line;if(r==i)return mn(r).text.slice(e.ch,t.ch);var s=[mn(r).text.slice(e.ch)];return Dt.iter(r+1,i,function(e){s.push(e.text)}),s.push(mn(i).text.slice(0,t.ch)),s.join(n||"\n")}function Kn(e){return Jn(Bt.from,Bt.to,e)}function Qn(){if(un)return;At.set(s.pollInterval,function(){Zn(),Ht&&Qn()})}function Gn(){function t(){var n=Zn();!n&&!e?(e=!0,At.set(60,t)):(un=!1,Qn())}var e=!1;un=!0,At.set(20,t)}function Zn(){if(!Ht||kt(S)||s.readOnly)return!1;var e=S.value;if(e==Yn)return!1;pi||ci(),jt=null;var t=0,n=Math.min(Yn.length,e.length);while(t<n&&Yn[t]==e[t])++t;return t<Yn.length?Bt.from={line:Bt.from.line,ch:Bt.from.ch-(Yn.length-t)}:Ut&&vt(Bt.from,Bt.to)&&!Wt&&(Bt.to={line:Bt.to.line,ch:Math.min(mn(Bt.to.line).text.length,Bt.to.ch+(e.length-t))}),Vn(e.slice(t),"end"),e.length>1e3?S.value=Yn="":Yn=e,pi||hi(),Wt=!1,!0}function er(e){vt(Bt.from,Bt.to)?e&&(Yn=S.value=""):(Yn="",S.value=Kn(),Ht&&dt(S))}function tr(){s.readOnly!="nocursor"&&S.focus()}function nr(){var e=rr();ir(e.x,e.y,e.x,e.yBot);if(!Ht)return;var t=ct.getBoundingClientRect(),n=null;e.y+t.top<0?n=!0:e.y+t.top+Kr()>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1);if(n!=null){var r=F.style.display=="none";r&&(F.style.display="",F.style.left=e.x+"px",F.style.top=e.y-Yt+"px"),F.scrollIntoView(n),r&&(F.style.display="none")}}function rr(){var e=zr(Bt.inverted?Bt.from:Bt.to),t=s.lineWrapping?Math.min(e.x,G.offsetWidth):e.x;return{x:t,y:e.y,yBot:e.yBot}}function ir(e,t,n,r){var i=sr(e,t,n,r);i.scrollLeft!=null&&(Et.scrollLeft=i.scrollLeft),i.scrollTop!=null&&(M.scrollTop=Et.scrollTop=i.scrollTop)}function sr(e,t,n,r){var i=ei(),o=Zr();t+=o,r+=o,e+=i,n+=i;var u=Et.clientHeight,a=M.scrollTop,f={},l=Un()||Infinity,c=t<o+10,h=r+o>l-10;t<a?f.scrollTop=c?0:Math.max(0,t):r>a+u&&(f.scrollTop=(h?l:r)-u);var p=Et.clientWidth,d=Et.scrollLeft,v=s.fixedGutter?ut.clientWidth:0,m=e<v+i+10;return e<d+v||m?(m&&(e=0),f.scrollLeft=Math.max(0,e-10-v)):n>p+d-3&&(f.scrollLeft=n+10-p),f}function or(e){var t=Kr(),n=(e!=null?e:M.scrollTop)-Zr(),r=Math.max(0,Math.floor(n/t)),i=Math.ceil((n+Et.clientHeight)/t);return{from:X(Dt,r),to:X(Dt,i)}}function ur(e,t,n){function d(){var e=_.firstChild,t=!1;return Dt.iter(Zt,en,function(n){if(!e)return;if(!n.hidden){var r=Math.round(e.offsetHeight/c)||1;n.height!=r&&(gn(n,r),Qt=t=!0)}e=e.nextSibling}),t}if(!Et.clientWidth){Zt=en=Yt=0;return}var r=or(n);if(e!==!0&&e.length==0&&r.from>Zt&&r.to<en){zn(n);return}var i=Math.max(r.from-100,0),o=Math.min(Dt.size,r.to+100);Zt<i&&i-Zt<20&&(i=Zt),en>o&&en-o<20&&(o=Math.min(Dt.size,en));var u=e===!0?[]:ar([{from:Zt,to:en,domStart:0}],e),a=0;for(var f=0;f<u.length;++f){var l=u[f];l.from<i&&(l.domStart+=i-l.from,l.from=i),l.to>o&&(l.to=o),l.from>=l.to?u.splice(f--,1):a+=l.to-l.from}if(a==o-i&&i==Zt&&o==en){zn(n);return}u.sort(function(e,t){return e.domStart-t.domStart});var c=Kr(),h=ut.style.display;_.style.display="none",fr(i,o,u),_.style.display=ut.style.display="";var p=i!=Zt||o!=en||tn!=Et.clientHeight+c;p&&(tn=Et.clientHeight+c),(i!=Zt||o!=en&&s.onViewportChange)&&setTimeout(function(){s.onViewportChange&&s.onViewportChange(vn,i,o)}),Zt=i,en=o,Yt=V(Dt,i),li(100);if(_.childNodes.length!=en-Zt)throw new Error("BAD PATCH! "+JSON.stringify(u)+" size="+(en-Zt)+" nodes="+_.childNodes.length);return s.lineWrapping&&d(),ut.style.display=h,(p||Qt)&&lr()&&s.lineWrapping&&d()&&lr(),zn(n),cr(),!t&&s.onUpdate&&s.onUpdate(vn),!0}function ar(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],s=[],o=i.diff||0;for(var u=0,a=e.length;u<a;++u){var f=e[u];i.to<=f.from&&i.diff?s.push({from:f.from+o,to:f.to+o,domStart:f.domStart}):i.to<=f.from||i.from>=f.to?s.push(f):(i.from>f.from&&s.push({from:f.from,to:i.from,domStart:f.domStart}),i.to<f.to&&s.push({from:i.to+o,to:f.to+o,domStart:f.domStart+(i.to-f.from)}))}e=s}return e}function fr(e,t,n){function r(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}if(!n.length)bt(_);else{var i=0,s=_.firstChild,o;for(var u=0;u<n.length;++u){var a=n[u];while(a.domStart>i)s=r(s),i++;for(var f=0,l=a.to-a.from;f<l;++f)s=s.nextSibling,i++}while(s)s=r(s)}var c=n.shift(),s=_.firstChild,f=e;Dt.iter(e,t,function(e){c&&c.to==f&&(c=n.shift());if(!c||c.from>f){if(e.hidden)var t=yt("pre");else{var t=yn(e);e.className&&(t.className=e.className);if(e.bgClassName){var r=yt("pre","",e.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");t=yt("div",[r,t],null,"position: relative")}}_.insertBefore(t,s)}else s=s.nextSibling;++f})}function lr(){if(!s.gutter&&!s.lineNumbers)return;var e=at.offsetHeight,t=Et.clientHeight;ut.style.height=(e-t<2?t:e)+"px";var n=document.createDocumentFragment(),r=Zt,i;Dt.iter(Zt,Math.max(en,Zt+1),function(e){if(e.hidden)n.appendChild(yt("pre"));else{var t=e.gutterMarker,o=s.lineNumbers?s.lineNumberFormatter(r+s.firstLineNumber):null;t&&t.text?o=t.text.replace("%N%",o!=null?o:""):o==null&&(o="");var u=n.appendChild(yt("pre",null,t&&t.style));u.innerHTML=o;for(var a=1;a<e.height;++a)u.appendChild(yt("br")),u.appendChild(document.createTextNode(""));t||(i=r)}++r}),ut.style.display="none",wt(ot,n);if(i!=null&&s.lineNumbers){var o=ot.childNodes[i-Zt],u=String(Dt.size).length,a=lt(o.firstChild),f="";while(a.length+f.length<u)f+="";f&&o.insertBefore(document.createTextNode(f),o.firstChild)}ut.style.display="";var l=Math.abs((parseInt(G.style.marginLeft)||0)-ut.offsetWidth)>2;return G.style.marginLeft=ut.offsetWidth+"px",Qt=!1,l}function cr(){var e=vt(Bt.from,Bt.to),t=zr(Bt.from,!0),n=e?t:zr(Bt.to,!0),r=Bt.inverted?t:n,i=Kr(),o=ft(Tt),u=ft(_);k.style.top=Math.max(0,Math.min(Et.offsetHeight,r.y+u.top-o.top))+"px",k.style.left=Math.max(0,Math.min(Et.offsetWidth,r.x+u.left-o.left))+"px";if(e)F.style.top=r.y+"px",F.style.left=(s.lineWrapping?Math.min(r.x,G.offsetWidth):r.x)+"px",F.style.display="",j.style.display="none";else{var a=t.y==n.y,f=document.createDocumentFragment(),l=G.clientWidth||G.offsetWidth,c=G.clientHeight||G.offsetHeight,h=function(e,t,n,r){var i=y?"width: "+(n?l-n-e:l)+"px":"right: "+n+"px";f.appendChild(yt("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; "+i+"; height: "+r+"px"))};if(Bt.from.ch&&t.y>=0){var p=a?l-n.x:0;h(t.x,t.y,p,i)}var d=Math.max(0,t.y+(Bt.from.ch?i:0)),v=Math.min(n.y,c)-d;v>.2*i&&h(0,d,0,v),(!a||!Bt.from.ch)&&n.y<c-.5*i&&h(0,n.y,l-n.x,i),wt(j,f),F.style.display="none",j.style.display=""}}function hr(e){e?jt=jt||(Bt.inverted?Bt.to:Bt.from):jt=null}function pr(e,t){var n=jt&&yr(jt);n&&(mt(n,e)?e=n:mt(t,n)&&(t=n)),dr(e,t),Vt=!0}function dr(e,t,n,r){an=null,n==null&&(n=Bt.from.line,r=Bt.to.line);if(vt(Bt.from,e)&&vt(Bt.to,t))return;if(mt(t,e)){var i=t;t=e,e=i}if(e.line!=n){var o=vr(e,n,Bt.from.ch);o?e=o:qr(e.line,!1)}t.line!=r&&(t=vr(t,r,Bt.to.ch)),vt(e,t)?Bt.inverted=!1:vt(e,Bt.to)?Bt.inverted=!1:vt(t,Bt.from)&&(Bt.inverted=!0);if(s.autoClearEmptyLines&&vt(Bt.from,Bt.to)){var u=Bt.inverted?e:t;if(u.line!=Bt.from.line&&Bt.from.line<Dt.size){var a=mn(Bt.from.line);/^\s+$/.test(a.text)&&setTimeout(di(function(){if(a.parent&&/^\s+$/.test(a.text)){var e=W(a);Xn("",{line:e,ch:0},{line:e,ch:a.text.length})}},10))}}Bt.from=e,Bt.to=t,Kt=!0}function vr(e,t,n){function r(t){var r=e.line+t,i=t==1?Dt.size:-1;while(r!=i){var o=mn(r);if(!o.hidden){var u=e.ch;if(s||u>n||u>o.text.length)u=o.text.length;return{line:r,ch:u}}r+=t}}var i=mn(e.line),s=e.ch==i.text.length&&e.ch!=n;return i.hidden?e.line>=t?r(1)||r(-1):r(-1)||r(1):e}function mr(e,t,n){var r=yr({line:e,ch:t||0});(n?pr:dr)(r,r)}function gr(e){return Math.max(0,Math.min(e,Dt.size-1))}function yr(e){if(e.line<0)return{line:0,ch:0};if(e.line>=Dt.size)return{line:Dt.size-1,ch:mn(Dt.size-1).text.length};var t=e.ch,n=mn(e.line).text.length;return t==null||t>n?{line:e.line,ch:n}:t<0?{line:e.line,ch:0}:e}function br(e,t){function o(){for(var t=r+e,n=e<0?-1:Dt.size;t!=n;t+=e){var i=mn(t);if(!i.hidden)return r=t,s=i,!0}}function u(t){if(i==(e<0?0:s.text.length)){if(!!t||!o())return!1;i=e<0?s.text.length:0}else i+=e;return!0}var n=Bt.inverted?Bt.from:Bt.to,r=n.line,i=n.ch,s=mn(r);if(t=="char")u();else if(t=="column")u(!0);else if(t=="word"){var a=!1;for(;;){if(e<0&&!u())break;if(Nt(s.text.charAt(i)))a=!0;else if(a){e<0&&(e=1,u());break}if(e>0&&!u())break}}return{line:r,ch:i}}function wr(e,t){var n=e<0?Bt.from:Bt.to;if(jt||vt(Bt.from,Bt.to))n=br(e,t);mr(n.line,n.ch,!0)}function Er(e,t){vt(Bt.from,Bt.to)?e<0?Xn("",br(e,t),Bt.to):Xn("",Bt.from,br(e,t)):Xn("",Bt.from,Bt.to),Vt=!0}function Sr(e,t){var n=0,r=zr(Bt.inverted?Bt.from:Bt.to,!0);an!=null&&(r.x=an);if(t=="page")var i=Math.min(Et.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Wr(r.x,r.y+i*e);else if(t=="line")var o=Kr(),s=Wr(r.x,r.y+.5*o+e*o);t=="page"&&(M.scrollTop+=zr(s,!0).y-r.y),mr(s.line,s.ch,!0),an=r.x}function xr(e){var t=mn(e.line).text,n=e.ch,r=e.ch;if(t){e.after===!1||r==t.length?--n:++r;var i=t.charAt(n),s=Nt(i)?Nt:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&Nt(e)};while(n>0&&s(t.charAt(n-1)))--n;while(r<t.length&&s(t.charAt(r)))++r}return{from:{line:e.line,ch:n},to:{line:e.line,ch:r}}}function Tr(e){pr({line:e,ch:0},yr({line:e+1,ch:0}))}function Nr(e){if(vt(Bt.from,Bt.to))return Cr(Bt.from.line,e);var t=Bt.to.line-(Bt.to.ch?0:1);for(var n=Bt.from.line;n<=t;++n)Cr(n,e)}function Cr(e,t){t||(t="add");if(t=="smart")if(!_t.indent)t="prev";else var n=ai(e);var r=mn(e),i=r.indentation(s.tabSize),o=r.text.match(/^\s*/)[0],u;t=="smart"&&(u=_t.indent(n,r.text.slice(o.length),r.text),u==it&&(t="prev")),t=="prev"?e?u=mn(e-1).indentation(s.tabSize):u=0:t=="add"?u=i+s.indentUnit:t=="subtract"&&(u=i-s.indentUnit),u=Math.max(0,u);var a=u-i,f="",l=0;if(s.indentWithTabs)for(var c=Math.floor(u/s.tabSize);c;--c)l+=s.tabSize,f+="	";l<u&&(f+=ht(u-l)),f!=o&&Xn(f,{line:e,ch:0},{line:e,ch:o.length}),r.stateAfter=null}function kr(){_t=e.getMode(s,s.mode),Dt.iter(0,Dt.size,function(e){e.stateAfter=null}),Pt=0,li(100)}function Lr(){var e=s.gutter||s.lineNumbers;ut.style.display=e?"":"none",e?Qt=!0:_.parentNode.style.marginLeft=0}function Ar(e,t){if(s.lineWrapping){Tt.className+=" CodeMirror-wrap";var n=Et.clientWidth/Yr()-3;Dt.iter(0,Dt.size,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/n)||1;t!=1&&gn(e,t)}),G.style.minWidth=I.style.left=""}else Tt.className=Tt.className.replace(" CodeMirror-wrap",""),Wn(),Dt.iter(0,Dt.size,function(e){e.height!=1&&!e.hidden&&gn(e,1)});$t.push({from:0,to:Dt.size})}function Or(){Et.className=Et.className.replace(/\s*cm-s-\S+/g,"")+s.theme.replace(/(^|\s)\s*/g," cm-s-")}function Mr(){var e=l[s.keyMap].style;Tt.className=Tt.className.replace(/\s*cm-keymap-\S+/g,"")+(e?" cm-keymap-"+e:"")}function _r(e,t){this.lines=[],this.type=e,t&&(this.style=t)}function Dr(e,t,n,r){e=yr(e),t=yr(t);var i=new _r("range",n);if(r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);var o=e.line;return Dt.iter(o,t.line+1,function(n){var r={from:o==e.line?e.ch:null,to:o==t.line?t.ch:null,marker:i};n.markedSpans=(n.markedSpans||[]).concat([r]),i.lines.push(n),++o}),$t.push({from:e.line,to:t.line+1}),i}function Pr(e){e=yr(e);var t=new _r("bookmark"),n=mn(e.line);fn.addChange(e.line,1,[B(n.text,n.markedSpans)],!0);var r={from:e.ch,to:e.ch,marker:t};return n.markedSpans=(n.markedSpans||[]).concat([r]),t.lines.push(n),t}function Hr(e){e=yr(e);var t=[],n=mn(e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker)}return t}function Br(e,t,n){return typeof e=="number"&&(e=mn(gr(e))),e.gutterMarker={text:t,style:n},Qt=!0,e}function jr(e){typeof e=="number"&&(e=mn(gr(e))),e.gutterMarker=null,Qt=!0}function Fr(e,t){var n=e,r=e;return typeof e=="number"?r=mn(gr(e)):n=W(e),n==null?null:t(r,n)?($t.push({from:n,to:n+1}),r):null}function Ir(e,t,n){return Fr(e,function(e){if(e.className!=t||e.bgClassName!=n)return e.className=t,e.bgClassName=n,!0})}function qr(e,t){return Fr(e,function(e,n){if(e.hidden!=t){e.hidden=t,s.lineWrapping||(t&&e.text.length==rn.text.length?sn=!0:!t&&e.text.length>rn.text.length&&(rn=e,sn=!1)),gn(e,t?0:1);var r=Bt.from.line,i=Bt.to.line;if(t&&(r==n||i==n)){var o=r==n?vr({line:r,ch:0},r,0):Bt.from,u=i==n?vr({line:i,ch:0},i,0):Bt.to;if(!u)return;dr(o,u)}return Qt=!0}})}function Rr(e){if(typeof e=="number"){if(!dn(e))return null;var t=e;e=mn(e);if(!e)return null}else{var t=W(e);if(t==null)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className,bgClass:e.bgClassName}}function Ur(e,t){if(t==0)return{top:0,left:0};var n=yn(e,t);wt(J,n);var r=n.anchor,i=r.offsetTop,s=r.offsetLeft;if(v&&i==0&&s==0){var o=yt("span","x");r.parentNode.insertBefore(o,r.nextSibling),i=o.offsetTop}return{top:i,left:s}}function zr(e,t){var n,r=Kr(),i=r*(V(Dt,e.line)-(t?Yt:0));if(e.ch==0)n=0;else{var o=Ur(mn(e.line),e.ch);n=o.left,s.lineWrapping&&(i+=Math.max(0,o.top))}return{x:n,y:i,yBot:i+r}}function Wr(e,t){function h(e){var t=Ur(u,e);if(f){var r=Math.round(t.top/n);return c=r!=l,Math.max(0,t.left+(r-l)*Et.clientWidth)}return t.left}var n=Kr(),r=Yr(),i=Yt+Math.floor(t/n);if(i<0)return{line:0,ch:0};var o=X(Dt,i);if(o>=Dt.size)return{line:Dt.size-1,ch:mn(Dt.size-1).text.length};var u=mn(o),a=u.text,f=s.lineWrapping,l=f?i-V(Dt,o):0;if(e<=0&&l==0)return{line:o,ch:0};var c=!1,p=0,d=0,v=a.length,m,g=Math.min(v,Math.ceil((e+l*Et.clientWidth*.9)/r));for(;;){var y=h(g);if(!(y<=e&&g<v)){m=y,v=g;break}g=Math.min(v,Math.ceil(g*1.2))}if(e>m)return{line:o,ch:v};g=Math.floor(v*.8),y=h(g),y<e&&(p=g,d=y);for(;;){if(v-p<=1){var b=e-d<m-e;return{line:o,ch:b?p:v,after:b}}var w=Math.ceil((p+v)/2),E=h(w);E>e?(v=w,m=E,c&&(m+=1e3)):(p=w,d=E)}}function Xr(e){var t=zr(e,!0),n=ft(G);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function Kr(){if(Jr==null){Jr=yt("pre");for(var e=0;e<49;++e)Jr.appendChild(document.createTextNode("x")),Jr.appendChild(yt("br"));Jr.appendChild(document.createTextNode("x"))}var t=_.clientHeight;return t==$r?Vr:($r=t,wt(J,Jr.cloneNode(!0)),Vr=J.firstChild.offsetHeight/50||1,bt(J),Vr)}function Yr(){if(Et.clientWidth==Gr)return Qr;Gr=Et.clientWidth;var e=yt("span","x"),t=yt("pre",[e]);return wt(J,t),Qr=e.offsetWidth||10}function Zr(){return G.offsetTop}function ei(){return G.offsetLeft}function ti(e,t){var n=ft(Et,!0),r,i;try{r=e.clientX,i=e.clientY}catch(e){return null}if(!t&&(r-n.left>Et.clientWidth||i-n.top>Et.clientHeight))return null;var s=ft(G,!0);return Wr(r-s.left,i-s.top)}function ri(e){function i(){k.style.position="relative",S.style.cssText=r,g&&(M.scrollTop=n),Qn();if(S.selectionStart!=null){clearTimeout(ni);var e=S.value=" "+(vt(Bt.from,Bt.to)?"":S.value),t=0;Yn=" ",S.selectionStart=1,S.selectionEnd=e.length,ni=setTimeout(function i(){Yn==" "&&S.selectionStart==0?di(f.selectAll)(vn):t++<10?ni=setTimeout(i,500):er()},200)}}var t=ti(e),n=M.scrollTop;if(!t||E)return;(vt(Bt.from,Bt.to)||mt(t,Bt.from)||!mt(t,Bt.to))&&di(mr)(t.line,t.ch);var r=S.style.cssText;k.style.position="absolute",S.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",tr(),er(!0),vt(Bt.from,Bt.to)&&(S.value=Yn=" ");if(d){Y(e);var s=nt(window,"mouseup",function(){s(),setTimeout(i,20)},!0)}else setTimeout(i,50)}function ii(){clearInterval(Mt);var e=!0;F.style.visibility="",Mt=setInterval(function(){F.style.visibility=(e=!e)?"":"hidden"},s.cursorBlinkRate)}function oi(e){function v(e,t,n){if(!e.text)return;var r=e.styles,i=o?0:e.text.length-1,s;for(var a=o?0:r.length-2,f=o?r.length:-2;a!=f;a+=2*u){var l=r[a];if(r[a+1]!=h){i+=u*l.length;continue}for(var c=o?0:l.length-1,v=o?l.length:-1;c!=v;c+=u,i+=u)if(i>=t&&i<n&&d.test(s=l.charAt(c))){var m=si[s];if(m.charAt(1)==">"==o)p.push(s);else{if(p.pop()!=m.charAt(0))return{pos:i,match:!1};if(!p.length)return{pos:i,match:!0}}}}}var t=Bt.inverted?Bt.from:Bt.to,n=mn(t.line),r=t.ch-1,i=r>=0&&si[n.text.charAt(r)]||si[n.text.charAt(++r)];if(!i)return;var s=i.charAt(0),o=i.charAt(1)==">",u=o?1:-1,a=n.styles;for(var f=r+1,l=0,c=a.length;l<c;l+=2)if((f-=a[l].length)<=0){var h=a[l+1];break}var p=[n.text.charAt(r)],d=/[(){}[\]]/;for(var l=t.line,c=o?Math.min(l+100,Dt.size):Math.max(-1,l-100);l!=c;l+=u){var n=mn(l),m=l==t.line,g=v(n,m&&o?r+1:0,m&&!o?r:n.text.length);if(g)break}g||(g={pos:null,match:!1});var h=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",y=Dr({line:t.line,ch:r},{line:t.line,ch:r+1},h),b=g.pos!=null&&Dr({line:l,ch:g.pos},{line:l,ch:g.pos+1},h),w=di(function(){y.clear(),b&&b.clear()});e?setTimeout(w,800):nn=w}function ui(e){var t,n;for(var r=e,i=e-40;r>i;--r){if(r==0)return 0;var o=mn(r-1);if(o.stateAfter)return r;var u=o.indentation(s.tabSize);if(n==null||t>u)n=r-1,t=u}return n}function ai(e){var t=ui(e),n=t&&mn(t-1).stateAfter;return n?n=N(_t,n):n=C(_t),Dt.iter(t,e,function(r){r.process(_t,n,s.tabSize),r.stateAfter=t==e-1||t%5==0?N(_t,n):null}),n}function fi(){if(Pt>=en)return;var e=+(new Date)+s.workTime,t=N(_t,ai(Pt)),n=Pt;Dt.iter(Pt,en,function(n){Pt>=Zt?(n.highlight(_t,t,s.tabSize),n.stateAfter=N(_t,t)):(n.process(_t,t,s.tabSize),n.stateAfter=Pt%5==0?N(_t,t):null),++Pt;if(+(new Date)>e)return li(s.workDelay),!0}),en>n&&Pt>=Zt&&di(function(){$t.push({from:n,to:Pt})})()}function li(e){Pt<en&&Ot.set(e,fi)}function ci(){Xt=Vt=Jt=null,$t=[],Kt=!1,Gt=[]}function hi(){sn&&Wn();if(on&&!s.lineWrapping){var e=I.offsetWidth,t=Ur(rn,rn.text.length).left;m||(I.style.left=t+"px",G.style.minWidth=t+e+"px"),on=!1}var n,r;if(Kt){var i=rr();n=sr(i.x,i.y,i.x,i.yBot)}if($t.length||n&&n.scrollTop!=null)r=ur($t,!0,n&&n.scrollTop);r||(Kt&&cr(),Qt&&lr()),n&&nr(),Kt&&ii(),Ht&&(Xt===!0||Xt!==!1&&Kt)&&er(Vt),Kt&&s.matchBrackets&&setTimeout(di(function(){nn&&(nn(),nn=null),vt(Bt.from,Bt.to)&&oi(!1)}),20);var o=Kt,u=Gt;Jt&&s.onChange&&vn&&s.onChange(vn,Jt),o&&s.onCursorActivity&&s.onCursorActivity(vn);for(var a=0;a<u.length;++a)u[a](vn);r&&s.onUpdate&&s.onUpdate(vn)}function di(e){return function(){pi++||ci();try{var t=e.apply(this,arguments)}finally{--pi||hi()}return t}}function vi(e){fn.startCompound();try{return e()}finally{fn.endCompound()}}var s={},a=e.defaults;for(var w in a)a.hasOwnProperty(w)&&(s[w]=(i&&i.hasOwnProperty(w)?i:a)[w]);var S=yt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");S.setAttribute("wrap","off"),S.setAttribute("autocorrect","off"),S.setAttribute("autocapitalize","off");var k=yt("div",[S],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),L=yt("div",null,"CodeMirror-scrollbar-inner"),M=yt("div",[L],"CodeMirror-scrollbar"),_=yt("div"),j=yt("div",null,null,"position: relative; z-index: -1"),F=yt("pre","","CodeMirror-cursor"),I=yt("pre","","CodeMirror-cursor","visibility: hidden"),J=yt("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),G=yt("div",[J,F,I,j,_],null,"position: relative; z-index: 0"),ot=yt("div",null,"CodeMirror-gutter-text"),ut=yt("div",[ot],"CodeMirror-gutter"),at=yt("div",[ut,yt("div",[G],"CodeMirror-lines")],null,"position: relative"),ct=yt("div",[at],null,"position: relative"),Et=yt("div",[ct],"CodeMirror-scroll");Et.setAttribute("tabIndex","-1");var Tt=yt("div",[k,M,Et],"CodeMirror"+(s.lineWrapping?" CodeMirror-wrap":""));r.appendChild?r.appendChild(Tt):r(Tt),Or(),Mr(),t&&(S.style.width="0px"),b||(Et.draggable=!0),G.style.outline="none",s.tabindex!=null&&(S.tabIndex=s.tabindex),s.autofocus&&tr(),!s.gutter&&!s.lineNumbers&&(ut.style.display="none"),x&&(k.style.height="1px",k.style.position="absolute"),T?(M.style.zIndex=-2,M.style.visibility="hidden"):m&&(M.style.minWidth="18px");var At=new rt,Ot=new rt,Mt,_t,Dt=new U([new R([new q("")])]),Pt=0,Ht;kr();var Bt={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},jt,Ft,It,qt=0,Rt,Ut=!1,zt=!1,Wt=!1,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt=0,Zt=0,en=0,tn=0,nn,rn=mn(0),sn=!1,on=!0,un=!1,an=null;di(function(){bn(s.value||""),Xt=!1})();var fn=new $;nt(Et,"mousedown",di(xn)),nt(Et,"dblclick",di(Tn)),nt(G,"selectstart",Q),d||nt(Et,"contextmenu",ri),nt(Et,"scroll",Sn),nt(M,"scroll",En),nt(M,"mousedown",function(){Ht&&setTimeout(tr,0)});var ln=nt(window,"resize",function(){Tt.parentNode?ur(!0):ln()},!0);nt(S,"keyup",di(Pn)),nt(S,"input",Gn),nt(S,"keydown",di(_n)),nt(S,"keypress",di(Dn)),nt(S,"focus",Hn),nt(S,"blur",Bn),s.dragDrop&&(nt(Et,"dragstart",Cn),nt(Et,"dragenter",cn),nt(Et,"dragover",cn),nt(Et,"drop",di(Nn))),nt(Et,"paste",function(){tr(),Gn()}),nt(S,"paste",function(){Wt=!0,Gn()}),nt(S,"cut",di(function(){s.readOnly||Vn("")})),x&&nt(ct,"mouseup",function(){document.activeElement==S&&S.blur(),tr()});var hn;try{hn=document.activeElement==S}catch(pn){}hn||s.autofocus?setTimeout(Hn,20):Bn();var vn=Tt.CodeMirror={getValue:wn,setValue:di(bn),getSelection:Kn,replaceSelection:di(Vn),focus:function(){window.focus(),tr(),Hn(),Gn()},setOption:function(e,t){var n=s[e];s[e]=t,e=="mode"||e=="indentUnit"?kr():e=="readOnly"&&t=="nocursor"?(Bn(),S.blur()):e=="readOnly"&&!t?er(!0):e=="theme"?Or():e=="lineWrapping"&&n!=t?di(Ar)():e=="tabSize"?ur(!0):e=="keyMap"?Mr():e=="tabindex"&&(S.tabIndex=t);if(e=="lineNumbers"||e=="gutter"||e=="firstLineNumber"||e=="theme"||e=="lineNumberFormatter")Lr(),ur(!0)},getOption:function(e){return s[e]},getMode:function(){return _t},undo:di(In),redo:di(qn),indentLine:di(function(e,t){typeof t!="string"&&(t==null?t=s.smartIndent?"smart":"prev":t=t?"add":"subtract"),dn(e)&&Cr(e,t)}),indentSelection:di(Nr),historySize:function(){return{undo:fn.done.length,redo:fn.undone.length}},clearHistory:function(){fn=new $},setHistory:function(e){fn=new $,fn.done=e.done,fn.undone=e.undone},getHistory:function(){function e(e){for(var t=0,n=[],r;t<e.length;++t){n.push(r=[]);for(var i=0,s=e[t];i<s.length;++i){var o=[],u=s[i];r.push({start:u.start,added:u.added,old:o});for(var a=0;a<u.old.length;++a)o.push(P(u.old[a]))}}return n}return{done:e(fn.done),undone:e(fn.undone)}},matchBrackets:di(function(){oi(!0)}),getTokenAt:di(function(e){return e=yr(e),mn(e.line).getTokenAt(_t,ai(e.line),s.tabSize,e.ch)}),getStateAfter:function(e){return e=gr(e==null?Dt.size-1:e),ai(e+1)},cursorCoords:function(e,t){return e==null&&(e=Bt.inverted),this.charCoords(e?Bt.from:Bt.to,t)},charCoords:function(e,t){return e=yr(e),t=="local"?zr(e,!1):t=="div"?zr(e,!0):Xr(e)},coordsChar:function(e){var t=ft(G);return Wr(e.x-t.left,e.y-t.top)},defaultTextHeight:function(){return Kr()},markText:di(Dr),setBookmark:Pr,findMarksAt:Hr,setMarker:di(Br),clearMarker:di(jr),setLineClass:di(Ir),hideLine:di(function(e){return qr(e,!0)}),showLine:di(function(e){return qr(e,!1)}),onDeleteLine:function(e,t){if(typeof e=="number"){if(!dn(e))return null;e=mn(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:Rr,getViewport:function(){return{from:Zt,to:en}},addWidget:function(e,t,n,r,i){e=zr(yr(e));var s=e.yBot,o=e.x;t.style.position="absolute",ct.appendChild(t);if(r=="over")s=e.y;else if(r=="near"){var u=Math.max(Et.offsetHeight,Dt.height*Kr()),a=Math.max(ct.clientWidth,G.clientWidth)-ei();e.yBot+t.offsetHeight>u&&e.y>t.offsetHeight&&(s=e.y-t.offsetHeight),o+t.offsetWidth>a&&(o=a-t.offsetWidth)}t.style.top=s+Zr()+"px",t.style.left=t.style.right="",i=="right"?(o=ct.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?o=0:i=="middle"&&(o=(ct.clientWidth-t.offsetWidth)/2),t.style.left=o+ei()+"px"),n&&ir(o,s,o+t.offsetWidth,s+t.offsetHeight)},lineCount:function(){return Dt.size},clipPos:yr,getCursor:function(e){return e==null&&(e=Bt.inverted),gt(e?Bt.from:Bt.to)},somethingSelected:function(){return!vt(Bt.from,Bt.to)},setCursor:di(function(e,t,n){t==null&&typeof e.line=="number"?mr(e.line,e.ch,n):mr(e,t,n)}),setSelection:di(function(e,t,n){(n?pr:dr)(yr(e),yr(t||e))}),getLine:function(e){if(dn(e))return mn(e).text},getLineHandle:function(e){if(dn(e))return mn(e)},setLine:di(function(e,t){dn(e)&&Xn(t,{line:e,ch:0},{line:e,ch:mn(e).text.length})}),removeLine:di(function(e){dn(e)&&Xn("",{line:e,ch:0},yr({line:e+1,ch:0}))}),replaceRange:di(Xn),getRange:function(e,t,n){return Jn(yr(e),yr(t),n)},triggerOnKeyDown:di(_n),execCommand:function(e){return f[e](vn)},moveH:di(wr),deleteH:di(Er),moveV:di(Sr),toggleOverwrite:function(){Ut?(Ut=!1,F.className=F.className.replace(" CodeMirror-overwrite","")):(Ut=!0,F.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var t=0,n;return Dt.iter(0,Dt.size,function(r){var i=r.text.length+1;if(i>e)return n=e,!0;e-=i,++t}),yr({line:t,ch:n})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return Dt.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){e!=null&&(Et.scrollLeft=e),t!=null&&(M.scrollTop=Et.scrollTop=t),ur([])},getScrollInfo:function(){return{x:Et.scrollLeft,y:M.scrollTop,height:M.scrollHeight,width:Et.scrollWidth}},scrollIntoView:function(e){var t=zr(e?yr(e):Bt.inverted?Bt.from:Bt.to);ir(t.x,t.y,t.x,t.yBot)},setSize:function(e,t){function n(e){return e=String(e),/^\d+$/.test(e)?e+"px":e}e!=null&&(Tt.style.width=n(e)),t!=null&&(Et.style.height=n(t)),vn.refresh()},operation:function(e){return di(e)()},compoundChange:function(e){return vi(e)},refresh:function(){ur(!0,null,qt),M.scrollHeight>qt&&(M.scrollTop=qt)},getInputField:function(){return S},getWrapperElement:function(){return Tt},getScrollerElement:function(){return Et},getGutterElement:function(){return ut}},Ln,Mn=null,Yn="";_r.prototype.clear=di(function(){var e,t;for(var n=0;n<this.lines.length;++n){var r=this.lines[n],i=A(r.markedSpans,this);i.from!=null&&(e=W(r)),i.to!=null&&(t=W(r)),r.markedSpans=O(r.markedSpans,i)}e!=null&&$t.push({from:e,to:t+1}),this.lines.length=0,this.explicitlyCleared=!0}),_r.prototype.find=function(){var e,t;for(var n=0;n<this.lines.length;++n){var r=this.lines[n],i=A(r.markedSpans,this);if(i.from!=null||i.to!=null){var s=W(r);i.from!=null&&(e={line:s,ch:i.from}),i.to!=null&&(t={line:s,ch:i.to})}}return this.type=="bookmark"?e:e&&{from:e,to:t}};var Vr,$r,Jr,Qr,Gr=0,ni,si={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},pi=0;for(var mi in o)o.propertyIsEnumerable(mi)&&!vn.propertyIsEnumerable(mi)&&(vn[mi]=o[mi]);for(var gi=0;gi<u.length;++gi)u[gi](vn);return vn}function c(e){return typeof e=="string"?l[e]:e}function h(e,t,n,r,i){function s(t){t=c(t);var n=t[e];if(n===!1)return i&&i(),!0;if(n!=null&&r(n))return!0;if(t.nofallthrough)return i&&i(),!0;var o=t.fallthrough;if(o==null)return!1;if(Object.prototype.toString.call(o)!="[object Array]")return s(o);for(var u=0,a=o.length;u<a;++u)if(s(o[u]))return!0;return!1}return t&&s(t)?!0:s(n)}function p(e){var t=Lt[tt(e,"keyCode")];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function N(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function C(e,t,n){return e.startState?e.startState(t,n):!0}function k(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function L(e,t,n){this.from=e,this.to=t,this.marker=n}function A(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function O(e,t){var n;for(var r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function M(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);if(u||o.type=="bookmark"&&s.from==t&&s.from!=n){var a=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push({from:s.from,to:a?null:s.to,marker:o})}}return i}function _(e,t){if(e)for(var n=0,r;n<e.length;++n){var i=e[n],s=i.marker,o=i.to==null||(s.inclusiveRight?i.to>=t:i.to>t);if(o||s.type=="bookmark"&&i.from==t){var u=i.from==null||(s.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push({from:u?null:i.from-t,to:i.to==null?null:i.to-t,marker:s})}}return r}function D(e,t,n,r,i){if(!e&&!t)return i;var s=M(e,n),o=_(t,r),u=i.length==1,a=pt(i).length+(u?n:0);if(s)for(var f=0;f<s.length;++f){var l=s[f];if(l.to==null){var c=A(o,l.marker);c?u&&(l.to=c.to==null?null:c.to+a):l.to=n}}if(o)for(var f=0;f<o.length;++f){var l=o[f];l.to!=null&&(l.to+=a);if(l.from==null){var c=A(s,l.marker);c||(l.from=a,u&&(s||(s=[])).push(l))}else l.from+=a,u&&(s||(s=[])).push(l)}var h=[B(i[0],s)];if(!u){var p=i.length-2,d;if(p>0&&s)for(var f=0;f<s.length;++f)s[f].to==null&&(d||(d=[])).push({from:null,to:null,marker:s[f].marker});for(var f=0;f<p;++f)h.push(B(i[f+1],d));h.push(B(pt(i),o))}return h}function P(e){return typeof e=="string"?e:e.text}function H(e){if(typeof e=="string")return null;var t=e.markedSpans,n=null;for(var r=0;r<t.length;++r)t[r].marker.explicitlyCleared?n||(n=t.slice(0,r)):n&&n.push(t[r]);return n?n.length?n:null:t}function B(e,t){return t?{text:e,markedSpans:t}:e}function j(e){var t=e.markedSpans;if(!t)return;for(var n=0;n<t.length;++n){var r=t[n].marker.lines,i=xt(r,e);r.splice(i,1)}e.markedSpans=null}function F(e,t){if(!t)return;for(var n=0;n<t.length;++n)var r=t[n].marker.lines.push(e);e.markedSpans=t}function q(e,t){this.text=e,this.height=1,F(this,t)}function R(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function U(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var s=e[r];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function z(e,t){while(!e.lines)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function W(e){if(e.parent==null)return null;var t=e.parent,n=xt(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0,s=r.children.length;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n}function X(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var u=e.lines[r],a=u.height;if(t<a)break;t-=a}return n+r}function V(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.chunkSize();if(t<o){e=s;continue e}t-=o,n+=s.height}return n}while(!e.lines);for(var r=0;r<t;++r)n+=e.lines[r].height;return n}function $(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function J(){Y(this)}function K(e){return e.stop||(e.stop=J),e}function Q(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function G(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Y(e){Q(e),G(e)}function Z(e){return e.target||e.srcElement}function et(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),n&&e.ctrlKey&&t==1&&(t=3),t}function tt(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function nt(e,t,n,r){if(typeof e.addEventListener=="function"){e.addEventListener(t,n,!1);if(r)return function(){e.removeEventListener(t,n,!1)}}else{var i=function(e){n(e||window.event)};e.attachEvent("on"+t,i);if(r)return function(){e.detachEvent("on"+t,i)}}}function rt(){this.id=null}function at(e,t,n){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var r=0,i=0;r<t;++r)e.charAt(r)=="	"?i+=n-i%n:++i;return i}function ft(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(r){n={top:0,left:0}}if(!t)if(window.pageYOffset==null){var i=document.documentElement||document.body.parentNode;i.scrollTop==null&&(i=document.body),n.top+=i.scrollTop,n.left+=i.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n}function lt(e){return e.textContent||e.innerText||e.nodeValue||""}function ht(e){while(ct.length<=e)ct.push(pt(ct)+" ");return ct[e]}function pt(e){return e[e.length-1]}function dt(e){t?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function vt(e,t){return e.line==t.line&&e.ch==t.ch}function mt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function gt(e){return{line:e.line,ch:e.ch}}function yt(e,t,n,r){var i=document.createElement(e);n&&(i.className=n),r&&(i.style.cssText=r);if(typeof t=="string")Et(i,t);else if(t)for(var s=0;s<t.length;++s)i.appendChild(t[s]);return i}function bt(e){return e.innerHTML="",e}function wt(e,t){bt(e).appendChild(t)}function Et(e,t){g?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function St(e,t){if(!t)return 0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0;--n,--r)if(e.charAt(n)!=t.charAt(r))break;return r+1}function xt(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function Nt(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Tt.test(e))}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(e){return e}};var t=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),n=t||/Mac/.test(navigator.platform),r=/Win/.test(navigator.platform),i=e.modes={},s=e.mimeModes={};e.defineMode=function(t,n){!e.defaults.mode&&t!="null"&&(e.defaults.mode=t);if(arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}i[t]=n},e.defineMIME=function(e,t){s[e]=t},e.resolveMode=function(t){if(typeof t=="string"&&s.hasOwnProperty(t))t=s[t];else if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return typeof t=="string"?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=i[n.name];if(!r)return e.getMode(t,"text/plain");var s=r(t,n);if(a.hasOwnProperty(n.name)){var o=a[n.name];for(var u in o)o.hasOwnProperty(u)&&(s[u]=o[u])}return s.name=n.name,s},e.listModes=function(){var e=[];for(var t in i)i.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in s)s.propertyIsEnumerable(t)&&e.push({mime:t,mode:s[t]});return e};var o=e.extensions={};e.defineExtension=function(e,t){o[e]=t};var u=[];e.defineInitHook=function(e){u.push(e)};var a=e.modeExtensions={};e.extendMode=function(e,t){var n=a.hasOwnProperty(e)?a[e]:a[e]={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])};var f=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!vt(t,n);!r&&e.getLine(t.line).length==t.ch?e.replaceRange("",t,{line:t.line+1,ch:0}):e.replaceRange("",t,r?n:{line:t.line})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},l=e.keyMap={};l.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},l.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},l.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},l["default"]=n?l.macDefault:l.pcDefault,l.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=p,e.fromTextArea=function(t,n){function s(){t.value=a.getValue()}n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex);if(n.autofocus==null){var r=document.body;try{r=document.activeElement}catch(i){}n.autofocus=r==t||t.getAttribute("autofocus")!=null&&r==document.body}if(t.form){var o=nt(t.form,"submit",s,!0),u=t.form.submit;t.form.submit=function f(){s(),t.form.submit=u,t.form.submit(),t.form.submit=f}}t.style.display="none";var a=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return a.save=s,a.getTextArea=function(){return t},a.toTextArea=function(){s(),t.parentNode.removeChild(a.getWrapperElement()),t.style.display="",t.form&&(o(),typeof t.form.submit=="function"&&(t.form.submit=u))},a};var d=/gecko\/\d{7}/i.test(navigator.userAgent),v=/MSIE \d/.test(navigator.userAgent),m=/MSIE [1-7]\b/.test(navigator.userAgent),g=/MSIE [1-8]\b/.test(navigator.userAgent),y=v&&document.documentMode==5,b=/WebKit\//.test(navigator.userAgent),w=/Chrome\//.test(navigator.userAgent),E=/Opera\//.test(navigator.userAgent),S=/Apple Computer/.test(navigator.vendor),x=/KHTML\//.test(navigator.userAgent),T=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);e.copyState=N,e.startState=C,e.innerMode=function(e,t){while(e.innerMode){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}},k.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return at(this.string,this.start,this.tabSize)},indentation:function(){return at(this.string,null,this.tabSize)},match:function(e,t,n){if(typeof e!="string"){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string).indexOf(r(e),this.pos)==this.pos)return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=k;var I=" ";d||v&&!m?I="":E&&(I=""),q.prototype={update:function(e,t){this.text=e,this.stateAfter=this.styles=null,j(this),F(this,t)},highlight:function(e,t,n){var r=new k(this.text,n),i=this.styles||(this.styles=[]),s=i.length=0;this.text==""&&e.blankLine&&e.blankLine(t);while(!r.eol()){var o=e.token(r,t),u=r.current();r.start=r.pos,s&&i[s-1]==o?i[s-2]+=u:u&&(i[s++]=u,i[s++]=o);if(r.pos>5e3){i[s++]=this.text.slice(r.pos),i[s++]=null;break}}},process:function(e,t,n){var r=new k(this.text,n);this.text==""&&e.blankLine&&e.blankLine(t);while(!r.eol()&&r.pos<=5e3)e.token(r,t),r.start=r.pos},getTokenAt:function(e,t,n,r){var i=this.text,s=new k(i,n);while(s.pos<r&&!s.eol()){s.start=s.pos;var o=e.token(s,t)}return{start:s.start,end:s.pos,string:s.current(),className:o||null,state:t}},indentation:function(e){return at(this.text,null,e)},getContent:function(e,t,n){function u(t,n,o){if(!n)return;r&&v&&n.charAt(0)==" "&&(n=""+n.slice(1)),r=!1;if(!s.test(n)){i+=n.length;var u=document.createTextNode(n)}else{var u=document.createDocumentFragment(),a=0;for(;;){s.lastIndex=a;var f=s.exec(n),l=f?f.index-a:n.length-a;l&&(u.appendChild(document.createTextNode(n.slice(a,a+l))),i+=l);if(!f)break;a+=l+1;if(f[0]=="	"){var c=e-i%e;u.appendChild(yt("span",ht(c),"cm-tab")),i+=c}else{var h=yt("span","","cm-invalidchar");h.title="\\u"+f[0].charCodeAt(0).toString(16),u.appendChild(h),i+=1}}}o?t.appendChild(yt("span",[u],o)):t.appendChild(u)}function g(e){return e?"cm-"+e.replace(/ +/g," cm-"):null}var r=!0,i=0,s=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,o=yt("pre"),a=u;if(t!=null){var f=0,l=o.anchor=yt("span");a=function(e,r,i){var s=r.length;if(t>=f&&t<f+s){var o=t-f;if(o){u(e,r.slice(0,o),i);if(n){var c=r.slice(o-1,o+1);ut.test(c)?e.appendChild(yt("wbr")):!m&&/\w\w/.test(c)&&e.appendChild(document.createTextNode(""))}}e.appendChild(l),u(l,E?r.slice(o,o+1):r.slice(o),i),E&&u(e,r.slice(o+1),i),t--,f+=s}else f+=s,u(e,r,i),f==t&&f==d?(Et(l,I),e.appendChild(l)):f>t+10&&/\s/.test(r)&&(a=function(){})}}var c=this.styles,h=this.text,p=this.markedSpans,d=h.length;if(!h&&t==null)a(o," ");else if(!p||!p.length)for(var y=0,b=0;b<d;y+=2){var w=c[y],S=c[y+1],x=w.length;b+x>d&&(w=w.slice(0,d-b)),b+=x,a(o,w,g(S))}else{p.sort(function(e,t){return e.from-t.from});var T=0,y=0,N="",S,C=0,k=p[0].from||0,L=[],A=0,O=function(){var e;while(A<p.length&&((e=p[A]).from==T||e.from==null))e.marker.type=="range"&&L.push(e),++A;k=A<p.length?p[A].from:Infinity;for(var t=0;t<L.length;++t){var n=L[t].to;n==null&&(n=Infinity),n==T?L.splice(t--,1):k=Math.min(n,k)}},M=0;while(T<d){k==T&&O();var _=Math.min(d,k);for(;;){if(N){var D=T+N.length,P=S;for(var H=0;H<L.length;++H){var B=L[H];P=(P?P+" ":"")+B.marker.style,B.marker.endStyle&&B.to===Math.min(D,_)&&(P+=" "+B.marker.endStyle),B.marker.startStyle&&B.from===T&&(P+=" "+B.marker.startStyle)}a(o,D>_?N.slice(0,_-T):N,P);if(D>=_){N=N.slice(_-T),T=_;break}T=D}N=c[y++],S=g(c[y++])}}}return o},cleanUp:function(){this.parent=null,j(this)}},R.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;r<i;++r){var s=this.lines[r];this.height-=s.height,s.cleanUp();if(s.handlers)for(var o=0;o<s.handlers.length;++o)n.push(s.handlers[o])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},U.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(e<s){var o=Math.min(t,s-e),u=i.height;i.remove(e,o,n),this.height-=u-i.height,s==o&&(this.children.splice(r--,1),i.parent=null);if((t-=o)==0)break;e=0}else e-=s}if(this.size-t<25){var a=[];this.collapse(a),this.children=[new R(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<=o){s.insertHeight(e,t,n);if(s.lines&&s.lines.length>50){while(s.lines.length>50){var u=s.lines.splice(s.lines.length-25,25),a=new R(u);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new U(t);if(!e.parent){var r=new U(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=xt(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}},$.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+(new Date),i=pt(this.done),s=i&&pt(i),o=r-this.time;if(i&&!this.closed&&this.compound)i.push({start:e,added:t,old:n});else if(o>400||!s||this.closed||s.start>e+n.length||s.start+s.added<e)this.done.push([{start:e,added:t,old:n}]),this.closed=!1;else{var u=Math.max(0,s.start-e),a=Math.max(0,e+n.length-(s.start+s.added));for(var f=u;f>0;--f)s.old.unshift(n[f-1]);for(var f=a;f>0;--f)s.old.push(n[n.length-f]);u&&(s.start=e),s.added+=t-(n.length-u-a)}this.time=r},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},e.e_stop=Y,e.e_preventDefault=Q,e.e_stopPropagation=G,e.connect=nt,rt.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var it=e.Pass={toString:function(){return"CodeMirror.Pass"}},st=function(){if(g)return!1;var e=yt("div");return"draggable"in e||"dragDrop"in e}(),ot=function(){var e=yt("textarea");return e.value="foo\nbar",e.value.indexOf("\r")>-1?"\r\n":"\n"}(),ut=/^$/;d?ut=/$'/:S?ut=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:w&&(ut=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var ct=[""],Tt=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,Ct="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var s=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Ct;var kt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Lt={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=Lt,function(){for(var e=0;e<10;e++)Lt[e+48]=String(e);for(var e=65;e<=90;e++)Lt[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)Lt[e+111]=Lt[e+63235]="F"+e}(),e.version="2.36",e}();
CodeMirror.defineMode("markdown",function(e,t){function k(e,t,n){return t.f=t.inline=n,n(e,t)}function L(e,t,n){return t.f=t.block=n,n(e,t)}function A(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.quote=!1,!n&&e.f==M&&(e.f=B,e.block=O),null}function O(e,n){n.list!==!1&&n.indentationDiff>=0?(n.indentationDiff<4&&(n.indentation-=n.indentationDiff),n.list=null):n.list=!1;if(n.indentationDiff>=4)return n.indentation-=4,e.skipToEnd(),l;if(e.eatSpace())return null;if(e.peek()==="#"||u&&e.match(N))n.header=!0;else if(e.eat(">"))n.indentation++,n.quote=!0;else{if(e.peek()==="[")return k(e,n,F);if(e.match(S,!0))return p;if(e.match(x,!0)||e.match(T,!0))n.indentation+=4,n.list=!0;else if(t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0))return n.localMode=s(RegExp.$1),n.localMode&&(n.localState=n.localMode.startState()),L(e,n,_),l}return k(e,n,n.inline)}function M(e,t){var i=r.token(e,t.htmlState);return n&&i==="tag"&&t.htmlState.type!=="openTag"&&!t.htmlState.context&&(t.f=B,t.block=O),t.md_inside&&e.current().indexOf(">")!=-1&&(t.f=B,t.block=O,t.htmlState.context=undefined),i}function _(e,t){return e.sol()&&e.match(/^```/,!0)?(t.localMode=t.localState=null,t.f=B,t.block=O,l):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),l)}function D(e,t){return e.match(codeBlockRE,!0)?(t.f=B,t.block=O,k(e,t,t.inline),l):(e.skipToEnd(),l)}function P(e){var t=[];return e.strong?t.push(e.em?E:w):e.em&&t.push(b),e.linkText&&t.push(g),e.code&&t.push(l),e.header&&t.push(f),e.quote&&t.push(c),e.list!==!1&&t.push(h),t.length?t.join(" "):null}function H(e,t){return e.match(C,!0)?P(t):undefined}function B(e,n){var r=n.text(e,n);if(typeof r!="undefined")return r;if(n.list)return n.list=null,h;var i=e.next();if(i==="\\")return e.next(),P(n);if(n.linkTitle){n.linkTitle=!1;var s=i;i==="("&&(s=")"),s=(s+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+s+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(e.match(new RegExp(u),!0))return y}if(i==="`"){var a=P(n),f=e.pos;e.eatWhile("`");var l=1+e.pos-f;return n.code?l===o?(n.code=!1,a):P(n):(o=l,n.code=!0,P(n))}if(n.code)return P(n);if(i==="!"&&e.match(/\[.*\] ?(?:\(|\[)/,!1))return e.match(/\[.*\]/),n.inline=n.f=j,d;if(i==="["&&e.match(/.*\](\(| ?\[)/,!1))return n.linkText=!0,P(n);if(i==="]"&&n.linkText){var c=P(n);return n.linkText=!1,n.inline=n.f=j,c}if(i==="<"&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return k(e,n,U(v,">"));if(i==="<"&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return k(e,n,U(m,">"));if(i==="<"&&e.match(/^\w/,!1)){var p=!1;if(e.string.indexOf(">")!=-1){var g=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(g)&&(n.md_inside=!0)}return e.backUp(1),L(e,n,M)}if(i==="<"&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var b=!1;if(!t.underscoresBreakWords&&i==="_"&&e.peek()!=="_"&&e.match(/(\w)/,!1)){var w=e.pos-2;if(w>=0){var E=e.string.charAt(w);E!=="_"&&E.match(/(\w)/,!1)&&(b=!0)}}var a=P(n);if(i==="*"||i==="_"&&!b){if(n.strong===i&&e.eat(i))return n.strong=!1,a;if(!n.strong&&e.eat(i))return n.strong=i,P(n);if(n.em===i)return n.em=!1,a;if(!n.em)return n.em=i,P(n)}else if(i===" ")if(e.eat("*")||e.eat("_")){if(e.peek()===" ")return P(n);e.backUp(1)}return P(n)}function j(e,t){if(e.eatSpace())return null;var n=e.next();return n==="("||n==="["?k(e,t,U(y,n==="("?")":"]")):"error"}function F(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=I,g):k(e,t,B)}function I(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=B,y)}function R(e){return q[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),q[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),q[e]}function U(e,t,n){return n=n||B,function(r,i){return r.match(R(t)),i.inline=i.f=n,e}}var n=CodeMirror.mimeModes.hasOwnProperty("text/html"),r=CodeMirror.getMode(e,n?"text/html":"text/plain"),i={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp"},s=function(){var t,n={},r={},s,o=CodeMirror.listModes();for(t=0;t<o.length;t++)n[o[t]]=o[t];var u=CodeMirror.listMIMEs();for(t=0;t<u.length;t++)s=u[t].mime,r[s]=u[t].mime;for(var a in i)if(i[a]in n||i[a]in r)n[a]=i[a];return function(t){return n[t]?CodeMirror.getMode(e,n[t]):null}}();t.underscoresBreakWords===undefined&&(t.underscoresBreakWords=!0),t.fencedCodeBlocks===undefined&&(t.fencedCodeBlocks=!1);var o=0,u=!1,a=!1,f="header",l="comment",c="quote",h="string",p="hr",d="tag",v="link",m="link",g="link",y="string",b="em",w="strong",E="emstrong",S=/^([*\-=_])(?:\s*\1){2,}\s*$/,x=/^[*\-+]\s+/,T=/^[0-9]+\.\s+/,N=/^(?:\={1,}|-{1,})$/,C=/^[^!\[\]*_\\<>` "'(]+/,q=[];return{startState:function(){return u=!1,a=!1,{f:O,block:O,htmlState:CodeMirror.startState(r),indentation:0,inline:B,text:H,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,list:!1,quote:!1}},copyState:function(e){return{f:e.f,block:e.block,htmlState:CodeMirror.copyState(r,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,linkTitle:e.linkTitle,em:e.em,strong:e.strong,header:e.header,list:e.list,quote:e.quote,md_inside:e.md_inside}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return u=!1,A(t);a&&(u=!0,a=!1),a=!0,t.header=!1,t.code=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=Math.floor((n-t.indentation)/4)*4;r>4&&(r=4),n=t.indentation+r,t.indentationDiff=n-t.indentation,t.indentation=n;if(n>0)return null}return t.f(e,t)},blankLine:A,getType:P}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");
window.VarnamIME=function(){"use strict";function e(e){function d(){var e='<div id="'+t+'" class="CodeMirror-completions" style="display: none;"><select multiple="false"></select></div>';$("body").append(e)}function v(){$("body").on("dblclick",i,function(){g(b()),o=!0}),$(r).keydown(function(e){if(e.keyCode===a.ESCAPE)C(),l.focus();else if(E(e.keyCode)){var t=$(this).find(":selected").text();if(t!==undefined&&t!==""){g(t);if(e.keyCode==a.ENTER)return e.preventDefault(),e.stopPropagation(),o=!0,!0}}})}function g(e){var t=L(l),n=t.start,r=l.charCoords(n),i=t.word;i!==""&&(l.replaceRange(e,n,t.end),l.focus()),C(),y(e)}function y(e){if(h===undefined||h==="en")return;$.post("learn",{text:e,lang:h})}function b(){return $(r).find(":selected").text()}function w(){var e=b();e!==undefined&&e!==""&&g(e)}function E(e){var t=$.inArray(e,f)==-1?!1:!0;return t?!0:!1}function S(e,t){var n=$.event.fix(t);if(n.type!="keydown")return;o=!1;if(n.keyCode==a.ESCAPE){C();return}if(s){if(n.keyCode===a.DOWN_ARROW)return $(r).focus(),n.preventDefault(),n.stopPropagation(),!0;if(E(n.keyCode)){w();if(n.keyCode===a.ENTER)return n.preventDefault(),n.stopPropagation(),o=!0,!0}}else if(n.keyCode==a.SPACE){o=!0;var i=L(l);m[i.word]=i}else E(n.keyCode)&&(o=!0)}function x(){var e=L(l),t=l.charCoords(e.start);e.word!==""?T(t.x,t.y,e.word):C()}function T(e,t,n){if(h==="en")return;var i={text:n,lang:h},o=!1;C();var u=$.ajax({url:"tl?"+$.param(i),dataType:"jsonp",crossDomain:"true",success:function(n){p!==null&&p(!1);if(m[n.input]!==undefined){var i=m[n.input],o=l.getRange(i.start,i.end);o==n.input&&l.replaceRange(n.result[0],i.start,i.end),delete m[n.input]}else if(L(l).word==n.input){var u="",a=0;$.each(n.result,function(e,t){e===0?u+="<option selected>"+t+"</option>":u+="<option>"+t+"</option>",a<t.length&&(a=t.length)}),$(r).html(u).css("height",n.result.length+1+"em").css("width",a+2+"em"),N(e,t),s=!0}},error:function(t,n,r){o=!0,window.setTimeout(function(){o&&p!==null&&p(!0)},2e3)}})}function N(e,t){var r=$(".CodeMirror"),i=$(n).css("display","block").css("left",e+"px").css("top",t+15+"px"),s=i.height(),o=i.width();t+s>r.position().top+r.innerHeight()&&i.css("top",t-s+"px"),e+o>r.position().left+r.innerWidth()&&i.css("left",e-o+"px")}function C(){$(n).css("display","none"),s=!1}function k(e){return e===null||e===""||e==" "||e=="\n"||e=="."||e=="	"||e=="\r"||e=='"'||e=="'"||e=="?"||e=="!"||e==","||e=="("||e==")"||e==""||e=="\f"||e==""||e=="\u2028"||e=="\u2029"||e=="\r"||e=="\n"||e==";"?!0:!1}function L(e){var t=e.getCursor(),n=0,r=0,i=e.getValue().length+1,s="",o=t.ch;n=t;while(o){s=e.getRange({line:t.line,ch:o-1},{line:t.line,ch:o});if(k(s))break;--o,n={line:t.line,ch:o}}r=t,o=t.ch;while(o<i){s=e.getRange({line:t.line,ch:o},{line:t.line,ch:o+1});if(k(s))break;++o,r={line:t.line,ch:o}}return{start:n,end:r,word:e.getRange(n,r)}}function A(e,t,n,r,i){window.clearTimeout(u);if(o)return;u=window.setTimeout(function(){x()},10),c!==null&&c(e,t,n,r,i)}var t="popup",n="#"+t,r=n+" select",i=n+r+" option",s=!1,o=!1,u=null,a={ESCAPE:27,ENTER:13,TAB:9,SPACE:32,PERIOD:190,DOWN_ARROW:40,QUESTION:191,EXCLAMATION:49,COMMA:188,LEFT_BRACKET:57,RIGHT_BRACKET:48,SEMICOLON:59},f=[a.ENTER,a.TAB,a.SPACE,a.PERIOD,a.QUESTION,a.EXCLAMATION,a.COMMA,a.LEFT_BRACKET,a.RIGHT_BRACKET,a.SEMICOLON],l=null,c=null,h="en",p=null;l=CodeMirror.fromTextArea(e.textArea,{mode:e.mode,lineNumbers:e.lineNumbers,lineWrapping:!0,onChange:A,extraKeys:{"Ctrl-Space":function(e){x()}},onKeyEvent:S}),c=e.textChangedCallback||null,p=e.errorCallback||null,d(),v();var m={},O={setLanguage:function(e){h=e},getValue:function(){return l.getValue()},dispose:function(){}};return O.setLanguage(e.language),O}return e}();
function resizeFrame(){var e=$(window).innerHeight(),t=$(".navbar").height(),n=e-t-30;$("#preview").css("height",n),$(".CodeMirror").css("height",n),$(".CodeMirror-scroll").css("height",n)}function initPreviewMode(){if(typeof Storage=="undefined")return;var e=localStorage.previewMode||"both";logglePreview(e)}function logglePreview(e){$("#"+e+"Btn").click()}function selectLastUsedLanguage(){if(typeof Storage!="undefined"&&localStorage.language){var e=JSON.parse(localStorage.language);$(".dropdown-toggle").html(e.name+" <span class='caret'></span>"),$("#selected_lang").data("lang",e.code)}}function updatePreview(e){if(!$("#preview_div").is(":visible")&&!e)return;var t=document.getElementById("preview");t.contentWindow.document.body.innerHTML=converter.makeHtml(varnam.getValue())}function savePreviewMode(e){if(typeof Storage=="undefined")return;localStorage.previewMode=e}function toggleErrorMessageVisibility(e){e?$("#network-error").fadeIn("slow"):$("#network-error").fadeOut("slow")}var converter=new Showdown.converter;$(document).ready(function(){selectLastUsedLanguage();var e={textArea:document.getElementById("code"),mode:"markdown",lineNumbers:!0,textChangedCallback:function(e,t,n,r,i){updatePreview()},language:$("#selected_lang").data("lang"),errorCallback:toggleErrorMessageVisibility};varnam=VarnamIME(e),initPreviewMode(),resizeFrame()}),jQuery.event.add(window,"resize",resizeFrame),window.onbeforeunload=function(e){e=e||window.event;if($.trim(myCodeMirror.getValue())!=="")return e&&(e.returnValue="You will loose the text. Are you sure?"),"You will loose the text. Are you sure?"},$("button").click(function(){var e=$(this).data("preview");switch(e){case"editor":$("#editor_div").removeClass("span6").addClass("span12"),$("#preview_div").hide(),$("#editor_div").show();break;case"both":$("#editor_div").removeClass("span12").addClass("span6"),$("#preview_div").show(),$("#editor_div").show(),$("#preview_div").css("margin-left",$("#reserve").css("margin-left")),$("#preview_div").removeClass("span12").addClass("span6"),updatePreview();break;case"preview":$("#editor_div").hide(),$("#preview_div").show(),$("#preview_div").removeClass("span6").addClass("span12"),$("#preview_div").css("margin-left","0"),updatePreview()}savePreviewMode(e)}),$("#printBtn").click(function(){updatePreview(!0),window.print()}),$(".lang").click(function(){$(".dropdown-toggle").html($(this).text()+" <span class='caret'></span>"),$("#selected_lang").data("lang",$(this).data("lang")),varnam.setLanguage($(this).data("lang"));if(typeof Storage=="undefined")return;localStorage.language=JSON.stringify({name:$(this).text(),code:$(this).data("lang")})}),$("#network-error-close").click(function(){toggleErrorMessageVisibility(!1)});